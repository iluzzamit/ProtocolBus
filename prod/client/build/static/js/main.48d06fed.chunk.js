(this.webpackJsonpclient=this.webpackJsonpclient||[]).push([[0],{112:function(e,t,n){},164:function(e,t,n){"use strict";n.r(t);var a=n(2),r=n(0),c=n.n(r),s=n(10),i=n.n(s),o=(n(112),n(59)),l=n(12),u=n.n(l),j=n(21),d=n(16),p=n(165),x=n(193),h=n(166),b=n(203),f=n(204),O=n(45),g=n.n(O),m="http://localhost:8080/api/can-bus";function v(){return y.apply(this,arguments)}function y(){return(y=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(m,"/get-logs"));case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function w(){return N.apply(this,arguments)}function N(){return(N=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(m,"/"));case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function k(){return S.apply(this,arguments)}function S(){return(S=Object(j.a)(u.a.mark((function e(){var t,n;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("".concat(m,"/is-generating"));case 2:return t=e.sent,n=t.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function C(){return E.apply(this,arguments)}function E(){return(E=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.put("".concat(m,"/toggle-generator"));case 2:return t=e.sent,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var M=n(194),q=n(192),B=n(195),F=n(196),R=n(197),P=n(198),z=n(199),D=n(91),I=n.n(D),T=function(e){try{return I()(e).format("hh:mm:ss.SSS a DD/MM/YYYY")}catch(t){return e}},Y=n(92),A=n(5),G=n(205),$=n(190),H=n(191),J=n(202);function L(){var e=Object(Y.a)(["\n    .margin-left {\n        margin-left: 20px;\n    }\n    .title {\n        font-size: 60px;\n    }\n\n    .two-columns {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        width: 100%;\n    }\n\n    .MuiPaper-root{\n        background-color: #3f51b500;\n    }\n\n    .MuiPaper-elevation4 {\n        padding-left: 34px;\n        box-shadow: 0px 1px 0px -1px rgba(0,0,0,0.2), 0px -1px 3px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12);\n    }\n\n    .MuiAppBar-positionFixed{\n        position: unset;\n    }\n\n    .MuiTypography-root {\n        font: 'Roboto';\n        color: #77A6F7;\n        font-weight: 300;\n    }\n\n    .MuiPaper-elevation1 {\n        box-shadow: unset;\n    }\n    .body-container {\n        margin-top: 400px;\n        margin: 10px 250px;\n    }\n\n    .value-text {\n        color: darkslategray;\n    }\n\n    .nothing-to-display{\n        height: 600px;\n        display: flex;\n        justify-content: center;\n        align-items: center;\n        color: darkslategray;\n        font-size: 30px;\n        width: 100%;\n    }\n\n    .title-text {\n        font-size: 20px;\n        font-weight: 300;\n    }\n\n    .accordion-title{\n        font-size: 40px;\n    }\n\n    .logs{\n        display: flex;\n        flex-direction: row;\n    }\n\n    .log-title {\n        color: darkslategray;\n    }\n\n    .padding-left{\n        padding-left: 5px;\n    }\n\n    .logs > * {\n        letter-spacing: 1.2px;\n    }\n"]);return L=function(){return e},e}var U=n(93).a.div(L()),K=Object(A.a)({root:{border:"1px solid rgba(0, 0, 0, .125)",boxShadow:"none","&:not(:last-child)":{borderBottom:0},"&:before":{display:"none"},"&$expanded":{margin:"auto"}},expanded:{}})(G.a),Q=Object(A.a)({root:{backgroundColor:"rgba(0, 0, 0, .03)",borderBottom:"1px solid rgba(0, 0, 0, .125)",marginBottom:-1,minHeight:56,"&$expanded":{minHeight:56}},content:{"&$expanded":{margin:"12px 0"}},expanded:{}})($.a),V=Object(A.a)((function(e){return{root:{padding:e.spacing(2)}}}))(H.a),W=Object(A.a)((function(e){return{tooltip:{backgroundColor:e.palette.common.white,color:"rgba(0, 0, 0, 0.87)",boxShadow:e.shadows[1],fontSize:11}}}))(J.a);function X(e){var t=e.value;return Object(a.jsx)(W,{title:t,arrow:!0,TransitionComponent:q.a,TransitionProps:{timeout:600},children:Object(a.jsx)("span",{children:t.length>10?t.slice(0,9)+"...":t})})}var Z=n(57),_=n.n(Z);function ee(e){var t=e.data,n=c.a.useState(t||[]),r=Object(d.a)(n,2),s=r[0],i=r[1],o=c.a.useState(void 0),l=Object(d.a)(o,2),u=l[0],j=l[1];c.a.useEffect((function(){return function(){u&&u.close()}}),[u]),c.a.useEffect((function(){i(t)}),[t]),c.a.useEffect((function(){h()}),[]);var h=function(){var e=_()("http://localhost:8080/");e.on("message",(function(e){i(e)})),j(e)};return s.length?Object(a.jsx)(M.a,{component:p.a,style:{height:"600px"},className:"scroll",children:Object(a.jsx)(q.a,{in:0!==s.length,children:Object(a.jsxs)(B.a,{children:[Object(a.jsx)(F.a,{children:Object(a.jsxs)(R.a,{children:[Object(a.jsx)(P.a,{children:Object(a.jsx)(x.a,{className:"title-text",children:"ID"})}),Object(a.jsx)(P.a,{children:Object(a.jsx)(x.a,{className:"title-text",children:"Date"})}),Object(a.jsx)(P.a,{children:Object(a.jsx)(x.a,{className:"title-text",children:"Frame"})}),Object(a.jsx)(P.a,{children:Object(a.jsx)(x.a,{className:"title-text",children:"Status"})}),Object(a.jsx)(P.a,{children:Object(a.jsx)(x.a,{className:"title-text",children:"Reason"})})]})}),Object(a.jsx)(z.a,{children:s.map((function(e){return Object(a.jsx)(q.a,{in:!0,children:Object(a.jsxs)(R.a,{children:[Object(a.jsx)(P.a,{children:Object(a.jsx)(x.a,{className:"value-text",children:e.uniqueId})}),Object(a.jsx)(P.a,{children:Object(a.jsx)(x.a,{className:"value-text",children:T(e.timestamp)})}),Object(a.jsx)(P.a,{children:Object(a.jsx)(x.a,{className:"value-text",children:Object(a.jsx)(X,{value:e.frame})})}),Object(a.jsx)(P.a,{children:Object(a.jsx)(x.a,{className:"value-text",children:(t=e.detectionResults,t.data&&t.length&&t.rate?Object(a.jsx)("span",{style:{color:"green"},children:"valid"}):Object(a.jsx)("span",{style:{color:"red"},children:"invalid"}))})}),Object(a.jsx)(P.a,{children:Object(a.jsx)(x.a,{className:"value-text",children:Object.entries(e.detectionResults).map((function(e){return e[1]?null:(t=e[0]).substring(0,1).toUpperCase()+t.substring(1)+" ";var t}))})})]})},e.uniqueId);var t}))})]})})}):Object(a.jsx)(x.a,{className:"nothing-to-display",children:"Nothing to display"})}function te(e){var t=e.logs,n=c.a.useState(t||[]),r=Object(d.a)(n,2),s=r[0],i=r[1],o=c.a.useState(void 0),l=Object(d.a)(o,2),u=l[0],j=l[1];c.a.useEffect((function(){return function(){u&&u.close()}}),[u]),c.a.useEffect((function(){h()}),[]),c.a.useEffect((function(){i(t)}),[t]);var h=function(){var e=_()("http://localhost:8080/");e.on("log",(function(e){i(e)})),j(e)};return console.log(s),s.length?Object(a.jsx)(M.a,{component:p.a,style:{height:"600px"},className:"scroll",children:Object(a.jsx)(q.a,{in:0!==s.length,children:Object(a.jsx)(B.a,{children:Object(a.jsx)(z.a,{children:s.map((function(e){return Object(a.jsx)(q.a,{in:!0,children:Object(a.jsx)(R.a,{children:Object(a.jsx)(P.a,{children:Object(a.jsxs)("div",{className:"value-text logs",children:[Object(a.jsxs)(x.a,{className:"log padding-left",children:[Object(a.jsx)("span",{className:"log-title",children:"On"})," ",T(e.timestamp),","]}),Object(a.jsxs)(x.a,{className:"log padding-left",children:[Object(a.jsx)("span",{className:"log-title",children:"new event-"}),"[",e.eventName,"] ",Object(a.jsx)("span",{className:"log-title",children:"generated,"})]}),Object(a.jsxs)(x.a,{className:"log padding-left",children:[Object(a.jsx)("span",{className:"log-title",children:"the log id is"})," ",e.id]}),e.payload&&Object(a.jsx)(W,{title:e.payload,children:Object(a.jsx)(x.a,{className:"log",children:"[Payload]"})})]})})})},e.id)}))})})})}):Object(a.jsx)(x.a,{className:"nothing-to-display",children:"Nothing to display"})}function ne(){var e=c.a.useState(0),t=Object(d.a)(e,2),n=t[0],r=t[1],s=c.a.useState([]),i=Object(d.a)(s,2),l=i[0],O=i[1],g=c.a.useState([]),m=Object(d.a)(g,2),y=m[0],N=m[1],S=c.a.useState(!1),E=Object(d.a)(S,2),M=E[0],q=E[1],B=Object(o.b)().enqueueSnackbar;function F(){return R.apply(this,arguments)}function R(){return(R=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,w();case 3:t=e.sent,O(t.slice(0,50)),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),B("Failed to load data",{variant:"error"}),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function P(){return z.apply(this,arguments)}function z(){return(z=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,k();case 3:t=e.sent,q(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),B("Failed to check generator status",{variant:"error"}),console.error(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,7]])})))).apply(this,arguments)}function D(){return I.apply(this,arguments)}function I(){return(I=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,v();case 3:t=e.sent,console.log(t),N(t),e.next=12;break;case 8:e.prev=8,e.t0=e.catch(0),B("Failed to load logs",{variant:"error"}),console.error(e.t0);case 12:case"end":return e.stop()}}),e,null,[[0,8]])})))).apply(this,arguments)}function T(){return(T=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=M,e.prev=1,M&&B("Generator gracefully stopped, finishing the ongoing requests.",{variant:"success"}),q(!M),e.next=6,C();case 6:P(),e.next=14;break;case 9:e.prev=9,e.t0=e.catch(1),B("Failed to load data",{variant:"error"}),q(t),console.error(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,9]])})))).apply(this,arguments)}return c.a.useEffect((function(){F(),D(),P()}),[]),Object(a.jsxs)(p.a,{variant:"outlined",square:!0,className:"body-container",children:[Object(a.jsxs)(K,{square:!0,expanded:0===n,onChange:function(){F(),r(0)},children:[Object(a.jsx)(Q,{children:Object(a.jsxs)("div",{className:"two-columns",children:[Object(a.jsx)(x.a,{className:"accordion-title",children:"Traffic"}),Object(a.jsxs)("div",{children:[Object(a.jsx)(W,{title:"Refresh",children:Object(a.jsx)(h.a,{onClick:F,children:Object(a.jsx)(f.a,{})})}),Object(a.jsx)(W,{title:M?"Stop Generator":"Start Generator",children:Object(a.jsx)(b.a,{checked:M,onChange:function(){return T.apply(this,arguments)},color:"primary",name:"checkedB",inputProps:{"aria-label":"primary checkbox"}})})]})]})}),Object(a.jsx)(V,{children:Object(a.jsx)(ee,{data:l})})]}),Object(a.jsxs)(K,{square:!0,expanded:1===n,onChange:function(){D(),r(1)},children:[Object(a.jsx)(Q,{children:Object(a.jsxs)("div",{className:"two-columns",children:[Object(a.jsx)(x.a,{className:"accordion-title",children:"Logs"}),Object(a.jsx)("div",{children:Object(a.jsx)(W,{title:"Refresh",children:Object(a.jsx)(h.a,{onClick:D,children:Object(a.jsx)(f.a,{})})})})]})}),Object(a.jsx)(V,{children:Object(a.jsx)(te,{logs:y})})]})]})}var ae=n(200);function re(){return Object(a.jsx)(ae.a,{children:Object(a.jsx)(x.a,{className:"title",children:"CANBus Reporter"})})}function ce(){return Object(a.jsx)(o.a,{maxSnack:3,children:Object(a.jsx)(U,{children:Object(a.jsxs)("div",{className:"margin-left",children:[Object(a.jsx)(re,{}),Object(a.jsx)(ne,{})]})})})}i.a.render(Object(a.jsx)(c.a.StrictMode,{children:Object(a.jsx)(ce,{})}),document.getElementById("root"))}},[[164,1,2]]]);
//# sourceMappingURL=main.48d06fed.chunk.js.map