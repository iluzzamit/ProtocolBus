{"version":3,"sources":["api/api.ts","common/utils.ts","components/Style.tsx","common/tooltip.tsx","components/DataTable.tsx","components/Logs.tsx","components/Body.tsx","components/Header.tsx","components/App.tsx","index.tsx"],"names":["baseUrl","getLogs","a","axios","get","data","getData","getIsGenerating","toggleGenerator","put","result","parseDate","text","moment","format","e","StyledContainer","styled","div","Accordion","withStyles","root","border","boxShadow","borderBottom","display","margin","expanded","MuiAccordion","AccordionSummary","backgroundColor","marginBottom","minHeight","content","MuiAccordionSummary","AccordionDetails","theme","padding","spacing","MuiAccordionDetails","LightTooltip","tooltip","palette","common","white","color","shadows","fontSize","Tooltip","value","title","arrow","TransitionComponent","Fade","TransitionProps","timeout","length","slice","DataTable","React","useState","currentData","setCurrentData","undefined","socket","setSocket","useEffect","close","initialSocket","io","on","newData","TableContainer","component","Paper","style","height","className","in","Table","TableHead","TableRow","TableCell","Typography","TableBody","map","row","uniqueId","timestamp","frame","detectionResult","detectionResults","rate","Object","entries","substring","toUpperCase","Logs","logs","setData","console","log","eventName","id","payload","Body","index","setIndex","setLogs","isGenerating","setIsGenerating","enqueueSnackbar","useSnackbar","initialData","variant","error","initialIsGenerating","initialLogs","oldIsGenerating","toggleGeneratorAPI","square","onChange","IconButton","onClick","Refresh","Switch","checked","name","inputProps","Header","AppBar","App","maxSnack","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.48d06fed.chunk.js","sourcesContent":["import axios from \"axios\";\r\nimport { Data } from \"../model/Data\";\r\nimport { Log } from \"../model/Logs\";\r\n\r\nconst baseUrl = \"http://localhost:8080/api/can-bus\"\r\n\r\nexport async function getLogs(): Promise<Log[]> {\r\n    const { data }: { data: Log[] } = await axios.get(`${baseUrl}/get-logs`);\r\n\r\n    return data;\r\n}\r\n\r\nexport async function getData(): Promise<Data[]> {\r\n    const { data }: { data: Data[] } = await axios.get(`${baseUrl}/`);\r\n\r\n    return data;\r\n}\r\n\r\nexport async function getIsGenerating(): Promise<any> {\r\n    const { data } = await axios.get(`${baseUrl}/is-generating`);\r\n\r\n    return data;\r\n}\r\n\r\nexport async function toggleGenerator(): Promise<any> {\r\n    const result = await axios.put(`${baseUrl}/toggle-generator`);\r\n\r\n    return result;\r\n}","\r\nimport moment from 'moment';\r\n\r\nexport const toCamelCase = (text: string): string => text.substring(0, 1).toUpperCase() + text.substring(1);\r\n\r\n\r\nexport const parseDate = function (text: string) {\r\n    try {\r\n        const date = moment(text);\r\n        return date.format('hh:mm:ss.SSS a DD/MM/YYYY');\r\n    } catch (e) {\r\n        return text;\r\n    }\r\n}","import { withStyles, Accordion as MuiAccordion, AccordionSummary as MuiAccordionSummary, AccordionDetails as MuiAccordionDetails, Tooltip } from '@material-ui/core';\r\nimport styled from 'styled-components';\r\n\r\n\r\nexport const StyledContainer = styled.div`\r\n    .margin-left {\r\n        margin-left: 20px;\r\n    }\r\n    .title {\r\n        font-size: 60px;\r\n    }\r\n\r\n    .two-columns {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        width: 100%;\r\n    }\r\n\r\n    .MuiPaper-root{\r\n        background-color: #3f51b500;\r\n    }\r\n\r\n    .MuiPaper-elevation4 {\r\n        padding-left: 34px;\r\n        box-shadow: 0px 1px 0px -1px rgba(0,0,0,0.2), 0px -1px 3px 0px rgba(0,0,0,0.14), 0px 1px 10px 0px rgba(0,0,0,0.12);\r\n    }\r\n\r\n    .MuiAppBar-positionFixed{\r\n        position: unset;\r\n    }\r\n\r\n    .MuiTypography-root {\r\n        font: 'Roboto';\r\n        color: #77A6F7;\r\n        font-weight: 300;\r\n    }\r\n\r\n    .MuiPaper-elevation1 {\r\n        box-shadow: unset;\r\n    }\r\n    .body-container {\r\n        margin-top: 400px;\r\n        margin: 10px 250px;\r\n    }\r\n\r\n    .value-text {\r\n        color: darkslategray;\r\n    }\r\n\r\n    .nothing-to-display{\r\n        height: 600px;\r\n        display: flex;\r\n        justify-content: center;\r\n        align-items: center;\r\n        color: darkslategray;\r\n        font-size: 30px;\r\n        width: 100%;\r\n    }\r\n\r\n    .title-text {\r\n        font-size: 20px;\r\n        font-weight: 300;\r\n    }\r\n\r\n    .accordion-title{\r\n        font-size: 40px;\r\n    }\r\n\r\n    .logs{\r\n        display: flex;\r\n        flex-direction: row;\r\n    }\r\n\r\n    .log-title {\r\n        color: darkslategray;\r\n    }\r\n\r\n    .padding-left{\r\n        padding-left: 5px;\r\n    }\r\n\r\n    .logs > * {\r\n        letter-spacing: 1.2px;\r\n    }\r\n`\r\n\r\nexport const Accordion = withStyles({\r\n    root: {\r\n        border: '1px solid rgba(0, 0, 0, .125)',\r\n        boxShadow: 'none',\r\n        '&:not(:last-child)': {\r\n            borderBottom: 0,\r\n        },\r\n        '&:before': {\r\n            display: 'none',\r\n        },\r\n        '&$expanded': {\r\n            margin: 'auto',\r\n        },\r\n    },\r\n    expanded: {},\r\n})(MuiAccordion);\r\n\r\nexport const AccordionSummary = withStyles({\r\n    root: {\r\n        backgroundColor: 'rgba(0, 0, 0, .03)',\r\n        borderBottom: '1px solid rgba(0, 0, 0, .125)',\r\n        marginBottom: -1,\r\n        minHeight: 56,\r\n        '&$expanded': {\r\n            minHeight: 56,\r\n        },\r\n    },\r\n    content: {\r\n        '&$expanded': {\r\n            margin: '12px 0',\r\n        },\r\n    },\r\n    expanded: {},\r\n})(MuiAccordionSummary);\r\n\r\nexport const AccordionDetails = withStyles((theme) => ({\r\n    root: {\r\n        padding: theme.spacing(2),\r\n    },\r\n}))(MuiAccordionDetails);\r\n\r\n\r\nexport const LightTooltip = withStyles((theme) => ({\r\n    tooltip: {\r\n        backgroundColor: theme.palette.common.white,\r\n        color: 'rgba(0, 0, 0, 0.87)',\r\n        boxShadow: theme.shadows[1],\r\n        fontSize: 11,\r\n    },\r\n}))(Tooltip);","import React from 'react';\r\nimport { Fade,  } from '@material-ui/core';\r\nimport { LightTooltip } from '../components/Style';\r\n\r\n\r\n\r\nexport default function Tooltip({ value }: { value: string }) {\r\n\r\n    return (\r\n        <LightTooltip title={value} arrow TransitionComponent={Fade} TransitionProps={{ timeout: 600 }}>\r\n            <span>{value.length > 10 ? value.slice(0, 9) + \"...\" : value}</span>\r\n        </LightTooltip>\r\n    );\r\n}","import { Fade, Paper, Table, TableBody, TableCell, TableContainer, TableHead, TableRow, Typography } from '@material-ui/core';\r\nimport { Data, DetectionResult } from '../model/Data';\r\nimport { parseDate, toCamelCase } from '../common/utils';\r\nimport Tooltip from '../common/tooltip';\r\nimport io from 'socket.io-client';\r\nimport React from 'react';\r\n\r\nexport default function DataTable({ data }: { data: any[] }) {\r\n  const [currentData, setCurrentData]: any = React.useState(data || [])\r\n  const [socket, setSocket]: any = React.useState(undefined);\r\n\r\n\tReact.useEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tsocket && socket.close();\r\n\t\t};\r\n\t}, [socket]);\r\n\r\n  React.useEffect(() => {\r\n    setCurrentData(data);\r\n  }, [data]);\r\n\r\n  React.useEffect(() => {\r\n    initialSocket();\r\n  }, []);\r\n\r\n  const initialSocket = () => {\r\n    const socket = io('http://localhost:8080/');\r\n\r\n    socket.on('message', (newData: any) => {\r\n      setCurrentData(newData);\r\n    });\r\n\r\n    setSocket(socket);\r\n  }\r\n\r\n  const isValid = (detectionResult: DetectionResult) => {\r\n    return detectionResult.data && detectionResult.length && detectionResult.rate;\r\n  }\r\n\r\n  return !currentData.length ? <Typography className=\"nothing-to-display\">Nothing to display</Typography> : (\r\n    <TableContainer component={Paper} style={{ height: '600px' }} className='scroll'>\r\n      <Fade in={currentData.length !== 0}>\r\n        <Table>\r\n          <TableHead>\r\n            <TableRow>\r\n              <TableCell><Typography className='title-text'>ID</Typography></TableCell>\r\n              <TableCell><Typography className='title-text'>Date</Typography></TableCell>\r\n              <TableCell><Typography className='title-text'>Frame</Typography></TableCell>\r\n              <TableCell><Typography className='title-text'>Status</Typography></TableCell>\r\n              <TableCell><Typography className='title-text'>Reason</Typography></TableCell>\r\n            </TableRow>\r\n          </TableHead>\r\n          <TableBody>\r\n            {currentData.map((row: Data) => (\r\n              <Fade in={true} key={row.uniqueId}>\r\n                <TableRow>\r\n                  <TableCell><Typography className='value-text'>{row.uniqueId}</Typography></TableCell>\r\n                  <TableCell><Typography className='value-text'>{parseDate(row.timestamp)}</Typography></TableCell>\r\n                  <TableCell><Typography className='value-text'><Tooltip value={row.frame} /></Typography></TableCell>\r\n                  <TableCell><Typography className='value-text'>{isValid(row.detectionResults) ?  <span style={{color: 'green'}}>valid</span> : <span style={{color: 'red'}}>invalid</span>}</Typography></TableCell>\r\n                  <TableCell><Typography className='value-text'>{Object.entries(row.detectionResults).map(result => {\r\n                    return !result[1] ? toCamelCase(result[0]) + ' ' : null\r\n                  })}</Typography></TableCell>\r\n                </TableRow>\r\n              </Fade>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </Fade>\r\n    </TableContainer>\r\n  )\r\n}","import { Fade, Paper, Table, TableBody, TableCell, TableContainer, TableRow, Typography } from '@material-ui/core';\r\nimport React from 'react';\r\nimport { parseDate } from '../common/utils';\r\nimport { Log } from '../model/Logs';\r\nimport { LightTooltip } from './Style';\r\nimport io from 'socket.io-client';\r\n\r\nexport default function Logs({ logs }: { logs: Log[] }) {\r\n  const [data, setData] = React.useState(logs || []);\r\n  const [socket, setSocket]: any = React.useState(undefined);\r\n\r\n\tReact.useEffect(() => {\r\n\t\treturn () => {\r\n\t\t\tsocket && socket.close();\r\n\t\t};\r\n  }, [socket]);\r\n  \r\n  React.useEffect(() => {\r\n    initialSocket();\r\n  },[]);\r\n\r\n  React.useEffect(() => {\r\n    setData(logs);\r\n  }, [logs]);\r\n\r\n  const initialSocket = () => {\r\n    const socket = io('http://localhost:8080/');\r\n\r\n    socket.on('log', (logs: any) => {\r\n      setData(logs);\r\n    });\r\n\r\n    setSocket(socket);\r\n  }\r\n\r\n\r\n  console.log(data);\r\n  return !data.length ? <Typography className=\"nothing-to-display\">Nothing to display</Typography> : (\r\n    <TableContainer component={Paper} style={{ height: '600px' }} className='scroll'>\r\n      <Fade in={data.length !== 0}>\r\n        <Table>\r\n          <TableBody>\r\n            {data.map((log: Log) => (\r\n              <Fade in={true} key={log.id}>\r\n                <TableRow>\r\n                  <TableCell>\r\n                    <div className='value-text logs'>\r\n                      <Typography className=\"log padding-left\"><span className=\"log-title\">On</span> {parseDate(log.timestamp)},</Typography>\r\n                      <Typography className=\"log padding-left\"><span className=\"log-title\">new event-</span>[{log.eventName}] <span className=\"log-title\">generated,</span></Typography>\r\n                      <Typography className=\"log padding-left\"><span className=\"log-title\">the log id is</span> {log.id}</Typography>\r\n                      {log.payload && <LightTooltip title={log.payload}>\r\n                      <Typography className=\"log\">\r\n                        [Payload]\r\n                      </Typography>\r\n                      </LightTooltip>}\r\n                    </div>\r\n                  </TableCell>\r\n                </TableRow>\r\n              </Fade>\r\n            ))}\r\n          </TableBody>\r\n        </Table>\r\n      </Fade>\r\n    </TableContainer>\r\n  );\r\n}","import React from 'react'\r\nimport { Paper, Typography, IconButton, Switch } from '@material-ui/core'\r\nimport { Refresh } from '@material-ui/icons';\r\nimport { getData, getIsGenerating, getLogs, toggleGenerator as toggleGeneratorAPI } from '../api/api';\r\nimport { Data } from '../model/Data';\r\nimport DataTable from './DataTable';\r\nimport { Accordion, AccordionSummary, AccordionDetails, LightTooltip } from './Style';\r\nimport { useSnackbar } from 'notistack';\r\nimport { Log } from '../model/Logs';\r\nimport Logs from './Logs';\r\n\r\n\r\nexport default function Body() {\r\n    const [index, setIndex] = React.useState(0);\r\n    const [data, setData]: any = React.useState([]);\r\n    const [logs, setLogs]: any = React.useState([])\r\n    const [isGenerating, setIsGenerating] = React.useState(false);\r\n    const { enqueueSnackbar } = useSnackbar();\r\n\r\n    React.useEffect(() => {\r\n        initialData();\r\n        initialLogs();\r\n        initialIsGenerating();\r\n    }, []);\r\n\r\n    async function initialData() {\r\n        try {\r\n            const data: Data[] = await getData();\r\n            setData(data.slice(0, 50));\r\n        } catch (e) {\r\n            enqueueSnackbar('Failed to load data', { variant: 'error' });\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    async function initialIsGenerating() {\r\n        try {\r\n            const isGenerating: boolean = await getIsGenerating();\r\n            setIsGenerating(isGenerating);\r\n        } catch (e) {\r\n            enqueueSnackbar('Failed to check generator status', { variant: 'error' });\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    async function initialLogs() {\r\n        try {\r\n            const logs: Log[] = await getLogs();\r\n            console.log(logs);\r\n            setLogs(logs);\r\n        } catch (e) {\r\n            enqueueSnackbar('Failed to load logs', { variant: 'error' });\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    async function toggleGenerator() {\r\n        const oldIsGenerating = isGenerating;\r\n        try {\r\n            if (isGenerating) enqueueSnackbar('Generator gracefully stopped, finishing the ongoing requests.', { variant: 'success' });\r\n            setIsGenerating(!isGenerating);\r\n            await toggleGeneratorAPI();\r\n            initialIsGenerating();\r\n        } catch (e) {\r\n            enqueueSnackbar('Failed to load data', { variant: 'error' });\r\n            setIsGenerating(oldIsGenerating);\r\n            console.error(e);\r\n        }\r\n    }\r\n\r\n    return (\r\n        <Paper variant=\"outlined\" square className=\"body-container\">\r\n            <Accordion square expanded={index === 0} onChange={() => {\r\n                initialData();\r\n                setIndex(0)\r\n            }}>\r\n                <AccordionSummary>\r\n                    <div className='two-columns'>\r\n                        <Typography className=\"accordion-title\">Traffic</Typography>\r\n                        <div>\r\n                            <LightTooltip title=\"Refresh\">\r\n                                <IconButton onClick={initialData}>\r\n                                    <Refresh />\r\n                                </IconButton>\r\n                            </LightTooltip>\r\n                            <LightTooltip title={isGenerating ? 'Stop Generator' : 'Start Generator'}>\r\n                                <Switch\r\n                                    checked={isGenerating}\r\n                                    onChange={toggleGenerator}\r\n                                    color=\"primary\"\r\n                                    name=\"checkedB\"\r\n                                    inputProps={{ 'aria-label': 'primary checkbox' }}\r\n                                />\r\n                            </LightTooltip>\r\n                        </div>\r\n                    </div>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                    <DataTable data={data} />\r\n                </AccordionDetails>\r\n            </Accordion>\r\n            <Accordion square expanded={index === 1} onChange={() => {\r\n                initialLogs();\r\n                setIndex(1)\r\n            }}>\r\n                <AccordionSummary>\r\n                    <div className=\"two-columns\">\r\n                        <Typography className=\"accordion-title\">Logs</Typography>\r\n                        <div>\r\n                            <LightTooltip title=\"Refresh\">\r\n                                <IconButton onClick={initialLogs}>\r\n                                    <Refresh />\r\n                                </IconButton>\r\n                            </LightTooltip>\r\n                        </div>\r\n                    </div>\r\n                </AccordionSummary>\r\n                <AccordionDetails>\r\n                    <Logs logs={logs} />\r\n                </AccordionDetails>\r\n            </Accordion>\r\n        </Paper>\r\n    )\r\n}","import { AppBar, Typography } from '@material-ui/core';\r\nimport React from 'react';\r\n\r\n\r\nexport default function Header() {\r\n    return (\r\n        <AppBar>\r\n            <Typography className='title'>\r\n                CANBus Reporter\r\n            </Typography>\r\n        </AppBar >\r\n    )\r\n} ","import { SnackbarProvider } from 'notistack';\r\nimport React from 'react';\r\nimport Body from './Body';\r\nimport Header from './Header';\r\nimport { StyledContainer } from './Style';\r\n\r\nexport default function App() {\r\n    return (\r\n        <SnackbarProvider maxSnack={3}>\r\n            <StyledContainer>\r\n                <div className='margin-left'>\r\n                    <Header />\r\n                    <Body />\r\n                </div>\r\n            </StyledContainer>\r\n        </SnackbarProvider>\r\n    );\r\n}","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}