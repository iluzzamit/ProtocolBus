{"version":3,"file":"Logger.js","sourceRoot":"","sources":["../../src/bl/Logger.ts"],"names":[],"mappings":";;;AAGA,MAAa,MAAM;IAAnB;QACI,SAAI,GAAU,EAAE,CAAC;QAOjB,QAAG,GAAG,CAAC,GAAQ,EAAE,EAAE;YACf,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,CAAC;YACpB,IAAG,IAAI,CAAC,MAAM,EAAC;gBACX,IAAI,CAAC,MAAM,CAAC,IAAI,CAAC,KAAK,EAAE,GAAG,CAAC,CAAC;aAChC;QACL,CAAC,CAAA;QACD,QAAG,GAAG,GAAU,EAAE;YACd,MAAM,UAAU,GAAG,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,CAAC,EAAE,SAAS,EAAE,EAAE,EAAC,EAAE,EAAE,SAAS,EAAE,EAAE,EAAC,EAAE,EAAE,CAAC,EAAE,GAAC,EAAE,CAAC,CAAC;YACjF,MAAM,UAAU,GAAG,UAAU,CAAC,GAAG,CAAC,KAAK,CAAC,EAAE,CAAC,iCAAM,KAAK,KAAE,SAAS,EAAE,IAAI,IAAI,CAAC,KAAK,CAAC,SAAS,CAAC,IAAE,CAAC,CAAA;YAE/F,OAAO,UAAU,CAAC;QACtB,CAAC,CAAA;IAEL,CAAC;IAjBG,SAAS,CAAC,MAAM;QACZ,IAAI,CAAC,MAAM,GAAG,MAAM,CAAC;IACzB,CAAC;CAeJ;AArBD,wBAqBC","sourcesContent":["import { Log } from \"../model/Log\";\r\n\r\n\r\nexport class Logger {\r\n    logs: Log[] = [];\r\n    socket;\r\n\r\n    setSocket(socket) {\r\n        this.socket = socket;\r\n    }\r\n\r\n    add = (log: Log) => {\r\n        this.logs.push(log);\r\n        if(this.socket){\r\n            this.socket.emit('log', log);\r\n        }\r\n    }\r\n    get = (): Log[] => {\r\n        const sortedLogs = this.logs.sort(({ timestamp: t1}, { timestamp: t2}) => t2-t1);\r\n        const mappedLogs = sortedLogs.map(value => ({ ...value, timestamp: new Date(value.timestamp)}))\r\n\r\n        return mappedLogs;\r\n    }\r\n\r\n}"]}